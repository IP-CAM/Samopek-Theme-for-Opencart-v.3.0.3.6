{% if categories %}
<div>
  <nav id="menu" class="navbar navbar-expand-lg">
      <span id="category" class="d-md-none d-lg-none">{{ text_category }}</span>
      <button type="button" class="btn btn-navbar navbar-toggler d-md-none d-lg-none" data-toggle="collapse" data-target=".navbar-ex1-collapse"><i class="fa fa-bars"></i></button>

    <div class="collapse navbar-collapse navbar-ex1-collapse">
      <ul class="nav navbar-nav">
        <li>
          <span class="delimiter hidden-xs hidden-sm hidden-md" style="margin-left: 0px"> | </span>
        </li>
        {% for category in categories %}
        {% if category.children %}
        <li class="dropdown"><a href="{{ category.href }}" class="dropdown-toggle" data-toggle="dropdown">{{ category.name }}</a>
          <div class="dropdown-menu">
            <a href="{{ category.href }}" class="see-all">{{ text_all }} {{ category.name }}</a>
            <div class="dropdown-inner">
              {% for children in category.children|batch(category.children|length / category.column|round(1, 'ceil')) %}
                <ul class="list-unstyled">
                  {% for child in children %}
                    <li>
                      <a href="{{ child.href }}">{{ child.name }}</a>
                    </li>
                  {% endfor %}
                </ul>
              {% endfor %}
            </div>
          </div>
        </li>
        <li>
          <span class="delimiter hidden-xs hidden-sm hidden-md"> | </span>
        </li>
        {% else %}
        <li>
          <a href="{{ category.href }}">{{ category.name }}</a>
        </li>
        <li>
          <span class="delimiter hidden-xs hidden-sm hidden-md"> | </span>
        </li>
        {% endif %}
        {% endfor %}
      </ul>
    </div>
  </nav>
</div>
{% endif %} 